{"version":3,"sources":["components/Login/Login.module.css","components/Login/Login.js"],"names":["module","exports","Login","emailRef","useRef","passwordRef","ctx","useContext","CartContext","history","useHistory","loginSubmitHandler","e","preventDefault","enteredEmail","current","value","enteredPassword","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","response","ok","json","data","Error","error","message","replace","login","idToken","console","log","alert","className","classes","bkijuno","onSubmit","dsniu","control","ref","type","bu"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,QAAU,uBAAuB,GAAK,kB,0GCqEvGC,UAhED,WACZ,IAAMC,EAAWC,mBACXC,EAAcD,mBACdE,EAAMC,qBAAWC,KAEjBC,EAAUC,cAEVC,EAAkB,iDAAG,WAAOC,GAAP,gGACzBA,EAAEC,iBACIC,EAAeX,EAASY,QAAQC,MAChCC,EAAkBZ,EAAYU,QAAQC,MAHnB,kBAKAE,MACrB,oHACA,CACEC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBC,MAAOT,EACPU,SAAUP,EACVQ,mBAAmB,IAErBC,QAAS,CACP,eAAgB,sBAfC,WAmBH,KAddC,EALiB,QAmBVC,GAnBU,kCAoBFD,EAASE,OApBP,cAoBfC,EApBe,OAqBf,IAAIC,MAAMD,EAAKE,MAAMC,SArBN,YAwBH,IAAhBN,EAASC,GAxBU,kCAyBFD,EAASE,OAzBP,QAyBfC,EAzBe,OA0BrBrB,EAAQyB,QAAQ,UAChB5B,EAAI6B,MAAML,EAAKM,QAASN,EAAKP,OAE7Bc,QAAQC,IAAIR,GA7BS,0DAgCvBS,MAAM,EAAD,IACLF,QAAQC,IAAR,MAjCuB,0DAAH,sDAoCxB,OACE,qBAAKE,UAAWC,IAAQC,QAAxB,SACE,8BACE,uBAAMC,SAAUhC,EAAoB6B,UAAWC,IAAQG,MAAvD,UACE,sBAAKJ,UAAWC,IAAQI,QAAxB,UACE,0CACA,uBAAOC,IAAK3C,OAEd,sBAAKqC,UAAWC,IAAQI,QAAxB,UACE,6CACA,uBAAOE,KAAK,SAASD,IAAKzC,OAE5B,wBAAQmC,UAAWC,IAAQO,GAAID,KAAK,SAApC,yBAOT,C","file":"static/js/8.fd295b44.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bkijuno\":\"Login_bkijuno__2ns7F\",\"dsniu\":\"Login_dsniu__iCfqe\",\"control\":\"Login_control__2HDgt\",\"bu\":\"Login_bu__2JAv2\"};","import { useRef } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CartContext from \"../store/cart-container\";\r\nimport classes from \"./Login.module.css\";\r\n\r\nconst Login = () => {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const ctx = useContext(CartContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const loginSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const enteredEmail = emailRef.current.value;\r\n    const enteredPassword = passwordRef.current.value;\r\n    try {\r\n      const response = await fetch(\r\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAZWnWVqZsnQYcTMGxbHuzjB87AyJACNb4\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            email: enteredEmail,\r\n            password: enteredPassword,\r\n            returnSecureToken: true,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      if (response.ok === false) {\r\n        const data = await response.json();\r\n        throw new Error(data.error.message);\r\n      }\r\n\r\n      if (response.ok === true) {\r\n        const data = await response.json();\r\n        history.replace(\"/store\");\r\n        ctx.login(data.idToken, data.email);\r\n\r\n        console.log(data);\r\n      }\r\n    } catch (error) {\r\n      alert(error);\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <div className={classes.bkijuno}>\r\n      <div>\r\n        <form onSubmit={loginSubmitHandler} className={classes.dsniu}>\r\n          <div className={classes.control}>\r\n            <label>Email</label>\r\n            <input ref={emailRef}></input>\r\n          </div>\r\n          <div className={classes.control}>\r\n            <label>Password</label>\r\n            <input type=\"number\" ref={passwordRef}></input>\r\n          </div>\r\n          <button className={classes.bu} type=\"submit\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}